<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Advanced Page Replacement Algorithm Visualizer</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="stylesheet" href="style.css">

</head>
<body>

<div class="container">
    <header>
        <h1>Advanced Page Replacement Algorithm Visualizer</h1>
        <p>An interactive tool to understand and analyze FIFO, LRU, and Optimal algorithms</p>
    </header>

    <div class="card controls">
        <input id="pages" placeholder="Enter page reference string, e.g., 7,0,1,2,0,3,0,4,2,3,0,3,2" />
        <input id="frames" type="number" placeholder="Enter number of frames for simulation, e.g., 4" />
        
        <div class="button-group">
            <button id="fifoBtn">Simulate FIFO</button>
            <button id="lruBtn">Simulate LRU</button>
            <button id="optimalBtn">Simulate Optimal</button>
        </div>
        <div class="button-group">
             <button id="randomBtn" class="secondary">Generate Random</button>
             <button id="resetBtn" class="secondary">Reset All</button>
        </div>
       
        <div class="speed-control">
            <label for="speed">Animation Speed:</label>
            <input id="speed" type="range" min="50" max="1500" value="700" step="50" />
        </div>
    </div>

    <div id="visualizer" class="card">
        <h2>Live Visualizer</h2>
        <div class="status-bar">
            Current Page: <span id="currentPage">-</span> |
            Hits: <span id="hits" class="hits">0</span> |
            Faults: <span id="faults" class="faults">0</span>
        </div>
        <div id="frameContainer" class="frame-container"></div>
    </div>
    
    <div id="output" class="card">
        <h2>Execution Log</h2>
        <div id="log">Welcome! Enter data, then select a simulation or analysis option.</div>
    </div>

    <div id="analysis" class="card">
        <h2>Analysis & Comparison</h2>
        <div class="button-group">
            <button id="compareBtn" class="analysis">Compare All Algorithms</button>
            <button id="beladyBtn" class="analysis">Analyze Belady's Anomaly (FIFO)</button>
        </div>
        <div id="comparisonResult"></div>
        <div id="beladyAnalysis" style="margin-top: 20px;">
            <canvas id="beladyChart"></canvas>
        </div>
    </div>

    <div id="timeline" class="card">
        <h2>Simulation Timeline</h2>
        <div id="timelineContainer">Select a simulation to generate its timeline view here.</div>
    </div>

    <div id="concepts" class="card">
        <h2>Algorithm Concepts</h2>
        <details>
            <summary>First-In, First-Out (FIFO)</summary>
            <div class="concept-content">
                <p>FIFO is the simplest page replacement algorithm. It works just like a queue. When a page fault occurs, it replaces the page that has been in memory for the <strong>longest time</strong>.</p>
                <p><strong>Key Point:</strong> It can suffer from <strong>Belady's Anomaly</strong>, where increasing the number of frames might paradoxically increase the page fault rate. Our analyzer can help you spot this!</p>
            </div>
        </details>
        <details>
            <summary>Least Recently Used (LRU)</summary>
            <div class="concept-content">
                <p>LRU operates on the principle of locality of reference. When a page fault occurs, it replaces the page that has <strong>not been used for the longest amount of time</strong>. It performs well but is more complex to implement than FIFO.</p>
            </div>
        </details>
        <details>
            <summary>Optimal (OPT / MIN)</summary>
            <div class="concept-content">
                <p>The Optimal algorithm is the gold standard. It replaces the page that will <strong>not be used for the longest period in the future</strong>. It guarantees the minimum possible number of page faults but is impossible to implement in a real system as it requires future knowledge.</p>
            </div>
        </details>
    </div>
</div>

<script src="script.js" defer></script>

</body>
</html>
